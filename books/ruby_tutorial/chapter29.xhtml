<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:epub="http://www.idpf.org/2007/ops" xml:lang="ja">
  <head>
    <title></title>
    <link href='css/style.css' rel='stylesheet' type='text/css'/>
<link href='css/syntax.css' rel='stylesheet' type='text/css'/>
  </head>
  <body>
<h2 id="version22" class="version">バージョン22（出力形式の再考）</h2>


<p>っと、その前に...</p>

<p>アウトプットのしょぼさに今さらながら気が付いてしまいました。</p>

<div class="highlight"><pre><code class="ruby"> <span class="n">wdic</span> <span class="o">=</span> <span class="no">WordDictionary</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="no">ARGF</span><span class="p">)</span>
 <span class="nb">p</span> <span class="n">wdic</span><span class="o">.</span><span class="n">top_by_frequency</span><span class="p">(</span><span class="mi">20</span><span class="p">)</span>
<span class="c1">#&gt; [[&quot;the&quot;, 16077], [&quot;of&quot;, 9823], [&quot;and&quot;, 7482], [&quot;to&quot;, 7098], [&quot;in&quot;, 4456], [&quot;a&quot;, 3841], [&quot;that&quot;, 3161], [&quot;was&quot;, 3040], [&quot;it&quot;, 2919], [&quot;i&quot;, 2881], [&quot;her&quot;, 2550], [&quot;she&quot;, 2313], [&quot;as&quot;, 2134], [&quot;you&quot;, 2071], [&quot;not&quot;, 2057], [&quot;be&quot;, 2044], [&quot;is&quot;, 2033], [&quot;his&quot;, 2009], [&quot;he&quot;, 1940], [&quot;for&quot;, 1927]]</span>
</code></pre></div>


<p>これが上司に対する報告か何かの類いのものならまず却下です。これをもう少しマシなものにしましょう。</p>

<div class="highlight"><pre><code class="ruby"> <span class="n">wdic</span> <span class="o">=</span> <span class="no">WordDictionary</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="no">ARGF</span><span class="p">)</span>
 <span class="n">wdic</span><span class="o">.</span><span class="n">top_by_frequency</span><span class="p">(</span><span class="mi">20</span><span class="p">)</span><span class="o">.</span><span class="n">each</span> <span class="p">{</span> <span class="o">|</span><span class="n">word</span><span class="p">,</span> <span class="n">freq</span><span class="o">|</span> <span class="nb">puts</span> <span class="s2">&quot;</span><span class="si">#{</span><span class="n">freq</span><span class="si">}</span><span class="s2">:</span><span class="si">#{</span><span class="n">word</span><span class="si">}</span><span class="s2">&quot;</span> <span class="p">}</span>
<span class="c1">#&gt;</span>
 <span class="mi">16077</span><span class="ss">:the</span>
 <span class="mi">9823</span><span class="ss">:of</span>
 <span class="mi">7482</span><span class="ss">:and</span>
 <span class="mi">7098</span><span class="ss">:to</span>
 <span class="mi">4456</span><span class="ss">:in</span>
 <span class="mi">3841</span><span class="ss">:a</span>
 <span class="mi">3161</span><span class="ss">:that</span>
 <span class="mi">3040</span><span class="ss">:was</span>
 <span class="mi">2919</span><span class="ss">:it</span>
 <span class="mi">2881</span><span class="ss">:i</span>
 <span class="mi">2550</span><span class="ss">:her</span>
 <span class="mi">2313</span><span class="ss">:she</span>
 <span class="mi">2134</span><span class="ss">:as</span>
 <span class="mi">2071</span><span class="ss">:you</span>
 <span class="mi">2057</span><span class="ss">:not</span>
 <span class="mi">2044</span><span class="ss">:be</span>
 <span class="mi">2033</span><span class="ss">:is</span>
 <span class="mi">2009</span><span class="ss">:his</span>
 <span class="mi">1940</span><span class="ss">:he</span>
 <span class="mi">1927</span><span class="ss">:for</span>
</code></pre></div>


<p>これだけでも大分よくなりました。しかし上司はもっと視覚的にアピールするものを好むでしょうね。</p>
  </body>
</html>
